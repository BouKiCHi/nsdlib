<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft&reg; HTML Help Workshop 4.1">
<meta http-equiv='Content-Type' content='text/html;charset=Shift_JIS'>
<meta http-equiv='Content-Style-Type' content='text/css'>
<link rel="stylesheet" type="text/css" href="help.css">
<Title>MML reference: Portamento2</Title>
</HEAD>
<BODY>

<!-- header start -->
<div id='header'>
<h1>NSDL（NES Sound Driver Library）</h1>
<a href="index.html">トップ</a>＼
<a href="usage.html">使い方</a>＼
<a href="usage_nsc.html">MMLコンパイラ</a>＼
<a href="mml.html">MML文法</a>＼
<a href="mml_sequence.html">MMLシーケンス</a>＼
</div>

<!-- contents start -->
<div id='contents'>
<h2>MML reference: Portamento2</h2>

<!-- ──────────────── -->
<div class='block'>
<h3>定義（Define）</h3>
<code><pre>
        {<var>note1</var> <span style="color:blue;">(</span><var>Accidentals1</var><span style="color:blue;">)(</span><var>length</var><span style="color:blue;">)(</span><var>Tai/Slur</var><span style="color:blue;">|</span>,<var>Gatetime</var><span style="color:blue;">)(</span><var>octave</var><span style="color:blue;">)</span><var>note2</var><span style="color:blue;">(</span><var>Accidentals2</var><span style="color:blue;">)</span>}

        {<var>note1</var> <span style="color:blue;">(</span><var>Accidentals1</var><span style="color:blue;">)(</span><var>octave</var><span style="color:blue;">)</span><var>note2</var><span style="color:blue;">(</span><var>Accidentals2</var><span style="color:blue;">)</span>}<span style="color:blue;">(</span><var>length</var><span style="color:blue;">)(</span><var>Tai/Slur</var><span style="color:blue;">|</span>,<var>Gatetime</var><span style="color:blue;">)</span>
</pre></code>
</div>




<!-- ──────────────── -->
<div class='block'>
<h3>引数（Inputs）</h3>

<p>
音名以外は省略可能です。<br>
<var>length</var>, <var>Tai/Slur</var>,<var>Gatetime</var>の記述位置は、開始音程の直後及び、`}'の直後の何れでも可です。<br>
</p>

<h4>Note1</h4>
<p>
ポルタメントの開始音程です。<br>
</p>
<dl>
<dt>a … </dt><dd>A, La, ラ</dd>
<dt>b … </dt><dd>H, Si, シ</dd>
<dt>c … </dt><dd>C, Do, ド</dd>
<dt>d … </dt><dd>D, Re, レ</dd>
<dt>e … </dt><dd>E, Mi, ミ</dd>
<dt>f … </dt><dd>F, Fa, ファ</dd>
<dt>g … </dt><dd>G, Sol, ソ</dd>
</dl>

<h4>Accidentals1</h4>
<p>
ポルタメントの開始音程の臨時記号です（省略可）。<br>
</p>
<dl>
<dt>+ … </dt><dd>&#9839; Sharp</dd>
<dt># … </dt><dd>&#9839; Sharp</dd>
<dt>- … </dt><dd>&#9837; Flat</dd>
<dt>= … </dt><dd>&#9838; Natural</dd>
</dl>

<h4>Note2</h4>
<p>
ポルタメント先の音程です。<br>
<var>note1</var>と同様に指定してください。<br>
</p>

<h4>Accidentals2</h4>
<p>
ポルタメント先の音程の臨時記号です（省略可）。<br>
<var>Accidentals1</var>と同様に指定してください。<br>
</p>

<h4>octave</h4>
<p>
ポルタメント先への相対オクターブです（省略可）。<br>
複数指定きます。<br>
</p>
<dl>
<dt>> … </dt><dd>オクターブを１つ上げます。</dd>
<dt>< … </dt><dd>オクターブを１つ下げます。</dd>
<dt>` … </dt><dd>ポルタメント先だけ、オクターブを１つ上げます。</dd>
<dt>" … </dt><dd>ポルタメント先だけ、オクターブを１つ下げます。</dd>
</dl>

<h4>Length</h4>
<p>
音長。<br>
<var>length</var>分音符となります。<br>
<code>.</code>を付与することで付点の音長を表現可能です。<br>
この<code>.</code>は複数指定可能です。<br>
付点のみを付けた場合は、<a href="mml_length.html">lコマンド</a>で指定した数値に付点が付いた音長となります。<br>
</p>
<p>
数値の頭に<code>%</code>を記述した場合は、<var>length</var>[Tick]の長さとなります。<br>
</p>
<p>
また、演算子 <code>+</code> 及び <code>-</code> を用いて音長の加減算が可能です。
</p>
<p>
<var>length</var>を省略時は、<a href="mml_length.html">lコマンド</a>で指定した数値が適用されます。<br>
</p>

<h4>Tai/Slur</h4>
<p>
<code>&</code>を記述する事で、タイ（次の音と繋げる）・スラー（次の音と滑らかに繋げる）を意味します。<br>
音源ドライバー内部では、この音符ではKey-Off処理をせず、次の音符ではKey-On処理をしません。<br>
</p>

<h4>Gatetime</h4>
<p>
ゲートタイム（実際に発音する長さ）を指定します。<br>
指定した場合、<a href="mml_gate.html">q, uコマンド</a>のゲートタイムに優先されます。<br>
０はゲートタイム無効で、<var>length</var>の長さで発音します。<br>
</p>
<p>
引数<var>length</var>と同様の指定が可能です。
</p>

</div>
<!-- ──────────────── -->
<div class='block'>
<h3>内容（Contents）</h3>
<p>
指定の音長でポルタメントをかけます。<br>
</p>
</div>

<!-- ──────────────── -->
<div class='block'>
<h3>注意（Notes）</h3>
<p>
ＭＭＬコンパイラの疑似命令で、このコマンドはコンパイル時に<a href="mml_portamento.html">Pコマンド</a>に変換します。<br>
Pコマンドでは、フレーム単位で指定となりますが、本コマンドにおいて音長（tick）単位の記述を可能とするため、<br>
<strong>MMLファイルとして以前に記述された<a href="mml_tempo.html">テンポコマンド</a>（他のトラックを含む）</strong>の数値から、長さの算出を行います。<br>
</p>
<p>
『変化量(半音単位)×16』より、『フレーム長』が大きい場合は、<a href="mml_portamento.html">Pコマンド</a>の<var>depth</var>を1か-1に固定し、<var>rate</var>を可変します。<br>
『変化量(半音単位)×16』より、『フレーム長』が小さい場合は、<a href="mml_portamento.html">Pコマンド</a>の<var>rate</var>を1に固定し、<var>depth</var>を可変します。<br>
</p>

</div>

<!-- ──────────────── -->
<div class='block'>
<h3>例（Sample）</h3>
<p>
※以下４つのポルタメントは、全て同じ意味です。<br>
</p>
<code><pre>
    {c#2&>c#} c#2     <span style="color:green;">/* Octave Portamento */</span>
    {c#2>c#}& c#2     <span style="color:green;">/* Octave Portamento */</span>
    {c#&>c#}2 c#2     <span style="color:green;">/* Octave Portamento */</span>
    {c#>c#}2& c#2     <span style="color:green;">/* Octave Portamento */</span>
</pre></code>

</div>


</div>

</BODY>
</HTML>




