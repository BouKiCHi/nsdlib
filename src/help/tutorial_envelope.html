<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<meta name="GENERATOR" content="Microsoft&reg; HTML Help Workshop 4.1">
<meta http-equiv='Content-Type' content='text/html;charset=Shift_JIS'>
<meta http-equiv='Content-Style-Type' content='text/css'>
<link rel="stylesheet" type="text/css" href="help.css">
<Title>ストトン表記　チュートリアル　音に表情をつけてみる</Title>
</HEAD>
<BODY>

<!-- header start -->
<div id='header'>
<h1>NSDL（NES Sound Driver Library）</h1>
<a href="index.html">トップ</a>＼
<a href="usage.html">使い方</a>＼
<a href="tutorial.html">チュートリアル</a>＼
</div>

<!-- ────────────────────────────────── -->
<!-- contents start -->
<div id='contents'>
<h2>チュートリアル　音に表情をつけてみる</h2>

<p>
ファミコン音源は、単調な音色なのでそのままではつまらない音になります。<br>
今までは、テンプレートの設定を使っていましたが、自作してみましょう。<br>
</p>



<!-- ────────────────────────────────── -->

<div class='block'>
<h3>エンベロープを設定する</h3>
<p>
現実世界の楽器は、音符１音１音の中にも音量の変化があります。<br>
エンベロープとは、その音量の変化のパターンのことを言います。<br>
nsd.libでは、それを数値で書いていきます。<br>
</p>
<p>
例えば、ピアノ等の楽器は、最初のアタックが強く、その後、徐々に音が減衰します。<br>
これを図に表すと以下のようになります。<br>
</p>
<img src="tutorial_envelope.png" width=75%>

<p>
エンベロープ定義は、1/60秒間毎の音量変化を、0〜15の数値で羅列します。<br>
また、音量を記述する他に、便利なコマンドがあります。<br>
</p>
<dl>
<dt>D<var>n</var> …</dt><dd>(<var>n</var>+1)/60秒だけ、現在のレベルを維持します。</dd>
<dt>R …			</dt><dd>発音中のパターンと、発音終了後のパターンの区切りです。<br>
							このRコマンド以降で、残響音のパターンを設定できます。<br>
							Rコマンドを書かない場合は、発音終了後も鳴り続けますので注意して下さい。</dd>
<dt>L …			</dt><dd>Rコマンドの前に書いた場合は、発音中にRのところまで来た場合の戻り先のポイントです。<br>
							Rコマンドの後ろに書いた場合は、発音中に定義の最後まで来た場合の戻り先のポイントです。	</dd>
</dl>
<p>
このように、上のグラフをエンベロープパターンに定義すると、以下のようになります。<br>
</p>
<code><pre>
エンベロープ（１）｛ 15 12 11 D0 10 D1 9 D2 8 D3 7 D4 6 D5 5 D8 L 4 R 3 2 1 L 0 ｝
</pre></code>
<p>
これは、エンベロープの「１番」にピアノのような音量変化パターンを定義しました。<br>
</p>

</div>



<div class='block'>
<h3>ビブラートを設定する</h3>
<p>
次は、音符１音１音の中での音程の変化です。<br>
現実の楽器でいうところのビブラート、音程の揺らぎ等を定義できます。<br>
今回の作るビブラートは、音を発音して少し経ってから音程の揺らぎをかけます。<br>
</p>

<img src="tutorial_vibrato.png" width=75%>

<p>
エンベロープと同じように、これをビブラートパターンに定義すると、以下のようになります。<br>
</p>
<code><pre>
ビブラート（１）｛ 0 D20 L 1 2 3 3 2 1 0 -1 -2 -3 -3 -2 -1 0 ｝
</pre></code>

<h4>ビブラートは音楽</h4>

<p>
ビブラートの掛けかたは非常に重要です。<br>
器楽奏者は、その時の音楽の場面に合わせて、周期、振幅をコントロールします。<br>
ここでは、少しだけ、例を紹介します（一例であって、すべてがこの通りではありません）。<br>
</p>

<h5>ロングトーン</h5>
<p>
最初はビブラートをかけず、少し経ってから、軽く掛けます。<br>
他のパートが素晴らしい旋律を奏でているのに、大きなビブラートで主張する奏者は要りません。<br>
</p>

<h5>スタッカート</h5>
<p>
最初だけビブラートをかけ、ビブラートの振幅も減衰させることが多いです。<br>
</p>

<h5>クレッシェンド</h5>
<p>
クレッシェンドというイタリア語の意味は「成長する」です。<br>
つまり、クレッシェンドも成長します。ビブラートの振幅もどんどん短くすることが多いです。<br>
</p>



</div>

<div class='block'>
<h3>音楽でエンベロープ、ビブラートを使ってみる</h3>
<p>
さぁ、作ったエンベロープパターンと、ビブラートパターンを使ってみます。<br>
</p>

</div>



<div>
<center>
<a href="tutorial_track.html">戻る</a>
<center>
</div>



<!-- ────────────────────────────────── -->
</div>

</BODY>
</HTML>
